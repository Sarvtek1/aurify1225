# Data Protection Impact Assessment (DPIA)
_Aurify1225 Project_  
_Date: 2025-11-10_

---

## 1. Overview
**Purpose:**  
Assess compliance of Aurify1225 platform components (Firestore, Cloud Run, BigQuery, Secret Manager, Firebase Hosting) with PDPL data protection and residency requirements.

**Scope:**  
- Deployed infrastructure within **ME-CENTRAL1 (Doha, UAE)** region.  
- Covers all user data processing, storage, logging, and secret management.  
- Includes CI/CD workflows handling deployment and compliance checks.

---

## 2. Data Flows
| Source | Type of Data | Location | Access |
|--------|---------------|-----------|--------|
| Firestore | App data (structured) | me-central1 | Cloud Run app, Firebase SDK |
| BigQuery | System logs & metrics | me-central1 | Logging Sink SA |
| Secret Manager | API keys / credentials | me-central1 | Cloud Run runtime SA |
| Firebase Hosting | Static assets | Global CDN, PDPL rewrite ensures requests terminate in Doha |

**Summary:**  
All data-processing and storage systems are hosted in **Doha (ME-CENTRAL1)**.  
No cross-border data transfers occur by default.

---

## 3. Risk Assessment
| Risk | Likelihood | Impact | Mitigation |
|------|-------------|---------|-------------|
| Unintended logging of PII | Medium | High | “No PII in logs” enforced; logs anonymized and stored regionally. |
| Unauthorized access to Firestore | Low | High | IAM least-privilege principle, Firebase Auth isolation rules. |
| Cross-border API usage | Low | Medium | Blocked by network egress and vendor policy. |
| Secret exposure in CI/CD | Low | High | Secrets managed via Secret Manager (ME-CENTRAL1) only. |
| Region misconfiguration | Low | High | CI/CD PDPL guard ensures region + retention policy validation. |

Residual risk: **Low**

---

## 4. Mitigation Summary
✅ Firestore: Native mode, me-central1  
✅ BigQuery: Dataset `aurify_logs`, 12-month retention  
✅ Logging: Sink `bq_aurify_logs`  
✅ Secret Manager: `MY_API_KEY_MEC1`, user-managed in me-central1  
✅ Cloud Run: deployed regionally in me-central1  
✅ CI/CD Guard: enforces region and data residency validation pre-deploy  

---

## 5. Data Transfer Assessment (DTA)
**Cross-border review:**  
No external vendors or APIs involved in user data processing.  
If any third-party integrations are introduced in future:
- Conduct vendor DTA (Data Transfer Assessment)
- Enforce pseudonymization / anonymization before transfer
- Document justification and mitigation

---

## 6. Compliance Summary
| Component | Status | Verified By |
|------------|---------|-------------|
| Firestore (Native, Doha) | ✅ | Technical Lead |
| BigQuery (12-month retention) | ✅ | Compliance Lead |
| Secret Manager (Regional) | ✅ | Security Officer |
| CI/CD Guard | ✅ | DevOps Lead |
| DPIA Approval | ✅ | DPO / Compliance Officer |

---

## 7. Sign-off
**Prepared by:**  
`<Your Name>` – Compliance Engineer  

**Reviewed by:**  
`<Approver Name>` – Data Protection Officer  

**Approved on:**  
`2025-11-10`

---

